/* Layout Shift Prevention */
* {
  /* Prevent unexpected layout changes */
  box-sizing: border-box;
}

/* Prevent layout shifts from font loading */
body {
  font-display: swap;
}

/* Reserve space for common elements that cause layout shifts */
img,
video,
iframe {
  /* Provide dimensions to prevent layout shifts */
  max-width: 100%;
  height: auto;
}

/* CSS Custom Properties (Variables) */
:root {
  /* Primary Colors */
  --primary-bg: #1e1e1e;
  --primary-text: #ffffff;
  --secondary-text: #fff;

  /* Gradient Colors */
  --gradient-start: #ff7e5f;
  --gradient-end: #feb47b;

  /* Icon Colors */
  --icon-default: #1b1b1b;
  --icon-active: #ffffff;

  /* Modal Colors */
  --modal-bg: rgba(0, 0, 0, 0.85);
  --modal-disabled-opacity: 0.5;

  /* Scrollbar Colors */
  --scrollbar-track: transparent;

  /* Error/Missing Translation Colors */
  --error-bg: rgba(255, 0, 0, 0.2);
  --error-border: #ff4444;
  --error-text: #ff6666;
  --error-icon: #ff4444;

  /* Tooltip Colors */
  --tooltip-bg: #333;
  --tooltip-text: white;
}

/* iOS Safari viewport fixes */
html {
  overflow-x: hidden;
  scroll-behavior: smooth;
  /* Fix for iOS Safari viewport issues */
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

body {
  background-color: var(--primary-bg);
  overflow-x: hidden;
  font-family: "Baloo 2", cursive;
  overflow-y: auto;
  /* Fix for iOS Safari white space */
  position: relative;
  min-height: 100vh;
  margin: 0;
  padding: 0;
}

/* Fix for iOS Safari viewport units */
@supports (-webkit-touch-callout: none) {
  body {
    min-height: -webkit-fill-available;
  }
}

/* Additional iOS viewport fixes */
@media screen and (max-device-width: 480px) {
  body {
    overflow-y: auto;
    -webkit-text-size-adjust: none;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  /* Prevent iOS Safari from adding extra space */
  html,
  body {
    overflow-y: auto;
    overflow-x: hidden;
    position: relative;
    width: 100%;
    height: 100%;
  }
}

/* Ensure modal covers the entire viewport and is always clickable */
#imageModal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: var(--modal-bg);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 2000;
}

#imageModal.show {
  display: flex !important;
}

/* Prevent interaction with all content except modal when modal is open */
body.modal-open > *:not(#imageModal):not(script):not(style) {
  pointer-events: none !important;
  user-select: none !important;
}

#imageModal,
#imageModal * {
  pointer-events: auto !important;
}

/* Modal open state disables pointer events for nav and overlay */
body.modal-open nav,
body.modal-open #overlay {
  pointer-events: none !important;
  user-select: none !important;
  opacity: var(--modal-disabled-opacity);
}

* {
  margin: 0;
  padding: 0;
}

p,
.project-list {
  color: var(--secondary-text);
  font-size: 22px;
  word-spacing: 2px;
}

hr.rounded {
  display: flex;
  justify-content: flex-end;
  border: none;
  /* Remove the border to show the gradient background */
  height: 8px;
  /* Set the height to match the previous border */
  background: linear-gradient(to left, var(--gradient-start), var(--gradient-end));
  /* Gradient from left to right */
  border-radius: 5px;
  width: 80vw;
  margin-left: auto;
  margin-right: auto;
}

.mi-icon {
  color: var(--icon-default);
}

[data-lang="mi"].active .mi-icon,
[data-lang="mi"].active path {
  color: var(--icon-active);
  fill: var(--icon-active) !important;
}

::-webkit-scrollbar {
  width: 15px !important;
}

::-webkit-scrollbar-track {
  background: #1e1e1e !important;
  background-color: #1e1e1e !important;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(to left, #ff7e5f, #feb47b) !important;
  background-color: #ff7e5f !important;
  border-radius: 10px !important;
}

/* Ensure rounded corners for scrollbar on mobile and tablet */
@media (max-width: 1024px) {
  * ::-webkit-scrollbar-thumb,
  html ::-webkit-scrollbar-thumb,
  body ::-webkit-scrollbar-thumb,
  ::-webkit-scrollbar-thumb {
    background: linear-gradient(to left, #ff7e5f, #feb47b) !important;
    border-radius: 10px !important;
    background-clip: padding-box !important;
    border: 3px solid transparent !important;
  }

  * ::-webkit-scrollbar,
  html ::-webkit-scrollbar,
  body ::-webkit-scrollbar,
  ::-webkit-scrollbar {
    width: 15px !important;
  }
}

/* Add universal fallback for scrollbar styles */
@media (max-width: 1024px) {
  html {
    scrollbar-width: thin !important;
    scrollbar-color: linear-gradient(to left, #ff7e5f, #feb47b) #1e1e1e !important;
  }

  * {
    scrollbar-width: thin !important;
    scrollbar-color: linear-gradient(to left, #ff7e5f, #feb47b) #1e1e1e !important;
  }
}

/* Fallback for Firefox */
html {
  scrollbar-width: thin;
  scrollbar-color: #ff7e5f #1e1e1e;
}

/* Missing Translation Styles */
.missing-translation {
  background: var(--error-bg) !important;
  border: 2px dashed var(--error-border) !important;
  color: var(--error-text) !important;
  padding: 2px 4px !important;
  border-radius: 4px !important;
  position: relative !important;
  display: inline-block !important;
  min-width: 150px !important;
  min-height: 20px !important;
}

.missing-translation::before {
  content: "⚠️ ";
  font-size: 0.8em;
  color: var(--error-icon) !important;
}

/* Specific styling for heading tags */
h1.missing-translation,
h2.missing-translation,
h3.missing-translation,
h4.missing-translation,
h5.missing-translation,
h6.missing-translation {
  display: block !important;
  width: auto !important;
  min-width: 200px !important;
  padding: 8px 12px !important;
  margin: 10px 0 !important;
}

.missing-translation:hover::after {
  content: attr(data-missing-key);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  background: var(--tooltip-bg);
  color: var(--tooltip-text);
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  white-space: nowrap;
  z-index: 1000;
  pointer-events: none;
}

.GradiantTitle {
  color: var(--primary-text);
  /* Fallback */
  /* background: -webkit-linear-gradient(var(--gradient-start), var(--gradient-end)); */
  /* background: -moz-linear-gradient(var(--gradient-start), var(--gradient-end)); */
  background: linear-gradient(var(--gradient-start), var(--gradient-end));
  -webkit-background-clip: text;
  -moz-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}
