<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WA-LCH | Niels de Laat</title>

  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="180x180" href="../images/Favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../images/Favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../images/Favicon/favicon-16x16.png">
  <link rel="manifest" href="../images/Favicon/site.webmanifest">

  <meta name="description" data-i18n="projects.wa_lch.description" content="WA-LCH game project by Niels de Laat">
  <meta name="keywords" content="WA-LCH, game development, Unity, programming, portfolio">
  <meta name="author" content="Niels de Laat">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

  <link href="../css/prism.css" rel="stylesheet" />

  <script type="module" src="../components/navbar.js"></script>
  <script type="module" src="../components/social-buttons.js"></script>
  <script type="module" src="../components/code-block.js"></script>
  <script type="module" src="../js/translate.js"></script>
  <script type="module" src="../components/projectPageLayout.js"></script>
  <script type="module" src="../components/footer.js"></script>

  <link rel="icon" type="image/png" href="../images/Favicon/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="../images/Favicon/favicon.svg" />
  <link rel="shortcut icon" href="../images/Favicon/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="../images/Favicon/apple-touch-icon.png" />
  <link rel="manifest" href="../images/Favicon/site.webmanifest" />

  <script>
    // Lazy load Prism.js only when code blocks are visible
    const loadPrism = () => {
      if (window.Prism) return; // Already loaded
      const script = document.createElement('script');
      script.src = '../js/prism.js';
      script.onload = () => window.Prism?.highlightAll();
      document.head.appendChild(script);
    };

    // Intersection Observer for lazy loading
    const codeObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          loadPrism();
          codeObserver.disconnect(); // Only load once
        }
      });
    }, { rootMargin: '200px' });

    // Observe code blocks when DOM is ready
    document.addEventListener('DOMContentLoaded', () => {
      const codeBlocks = document.querySelectorAll('pre code');
      if (codeBlocks.length > 0) {
        codeBlocks.forEach(block => codeObserver.observe(block));
      }
    });
  </script>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/ProjectPage.css" id="customStyles">

</head>

<body>
  <!-- Navigation Component -->
  <nav-bar></nav-bar>
  <!-- ============================================
       CONTENT CONFIGURATION - EDIT YOUR CONTENT HERE
       ============================================ -->
  <script id="projectConfig">
    const PROJECT_DATA = {
      // Project Info
      title: "WA-LCH Origins",
      title_i18n: "__NO_TRANSLATE__",

      // Main Content Sections - with inline media and code block support
      sections: [
        {
          title: "Description",
          title_i18n: "projectPages.description",
          content: `Made in ~30 hours during a game jam (theme:“Bubbles”). Built with Unity and C#. WA-LCH Origins is a chaotic mini-cleanup adventure where you play as a janitor scrubbing away trash and trapping rogue rats using bubble-based tools. Built entirely under game jam pressure, it features player-controlled physics movement, animated doors, trap-based rat removal, and a bubbly cleaning mechanic.`,
          content_i18n: "projectPages.walchOrigins.description"
        },
        {
          title: "What I Made",
          title_i18n: "projectPages.whatIMadeTitle",
          content_i18n: "__NO_TRANSLATE__"
        },
        {
          title: "Player Movement",
          title_i18n: "projectPages.walchOrigins.playerMovement.playerMovementTitle",
          content: "Handled via Rigidbody for responsive physics-based control. Rotation matches movement direction for an intuitive feel.",
          content_i18n: "projectPages.walchOrigins.playerMovement.playerMovementPoint1"
        },

        {
          type: "codeblock",
          githubUrl: "https://github.com/NielsCraft12/ggj-walch2/blob/main/Assets/Scripts/PlayerMovement.cs#L106-#L117",
          language: "csharp",
          buttonI18n: "projectPages.viewOnGitHub",
          buttonText: "View on github",
          buttonTitle: "View on GitHub",
          code: `
rb.linearVelocity = new Vector3(
moveDirection.y * maxSpeed,
yVelocity,
moveDirection.x * maxSpeed
);`
        },
        {
          type: "media",
          mediaType: "video",
          src: "../videos/webm/WalchOrigins/WalchorginsMovement.webm",
          alt: "WA-LCH Origins walking",
          loading: "lazy"

        },
        {
          title: "Cleaning Mechanic",
          title_i18n: "projectPages.walchOrigins.cleaningMechanic.cleaningMechanicTitle",
          content: "When activated, the cleaning ability shows a particle effect and wipes nearby trash or rats from the scene. Using an OverlapSphere to detect the trash",
          content_i18n: "projectPages.walchOrigins.cleaningMechanic.cleaningMechanicPoint1"
        },
        {
          type: "codeblock",
          githubUrl: "https://github.com/NielsCraft12/ggj-walch2/blob/main/Assets/Scripts/PlayerMovement.cs#L205-L210",
          language: "csharp",
          buttonI18n: "projectPages.viewOnGitHub",
          buttonText: "View on github",
          buttonTitle: "View on GitHub",
          code: `
Collider[] hitColliders = Physics.OverlapSphere(
cleaningpoint.transform.position,
cleaningRadius
);`
        },
        {
          type: "media",
          mediaType: "video",
          src: "../videos/webm/WalchOrigins/walchOriginsCleaning.webm",
          alt: "WA-LCH Origins walking",
          loading: "lazy"

        },
        {
          title: "Trap Launching",
          title_i18n: "projectPages.walchOrigins.trapLaunching.trapLaunchingTitle",
          content: "The player shoots traps on cooldown to deal with fast-moving rats.",
          content_i18n: "projectPages.walchOrigins.trapLaunching.trapLaunchingPoint1",
        },
        {
          type: "codeblock",
          githubUrl: "https://github.com/NielsCraft12/ggj-walch2/blob/main/Assets/Scripts/PlayerMovement.cs#L128-L137",
          language: "csharp",
          buttonI18n: "projectPages.viewOnGitHub",
          buttonText: "View on github",
          buttonTitle: "View on GitHub",
          code: `
if (trapcooldownTimer <= 0)
{
 Instantiate(trap, trapSpawnPoint.position, trapSpawnPoint.rotation);
 trapcooldownTimer = trapcooldown;
}`
        },
        {
          type: "media",
          mediaType: "video",
          src: "../videos/webm/WalchOrigins/walchOriginsTraps.webm",
          alt: "WA-LCH Origins walking",
          loading: "lazy"

        },
        {
          title: "Doors",
          title_i18n: "projectPages.walchOrigins.doorSystem.doorSystemTitle",
          content: "Doors open and close automatically when the when player or npc's enters a trigger zone. It tells the door to change the door state to open.",
          content_i18n: "projectPages.walchOrigins.doorSystem.doorSystemPoint1"
        },
        {
          type: "codeblock",
          githubUrl: "https://github.com/NielsCraft12/ggj-walch2/blob/main/Assets/Scripts/PlayerMovement.cs#L183-L193",
          language: "csharp",
          buttonI18n: "projectPages.viewOnGitHub",
          buttonText: "View on github",
          buttonTitle: "View on GitHub",
          code: `
if (other.gameObject.CompareTag("Door"))
 {
  if (other.gameObject.GetComponent().Moving == false)
  {
    other.gameObject.GetComponent().Moving = true;
  }
}`
        },
        {
          title_i18n: "__NO_TRANSLATE__",
          content: "The door then moves to the open position and waits for a certain amount of time before closing again.",
          content_i18n: "projectPages.walchOrigins.doorSystem.doorSystemPoint2"
        },
        {
          type: "codeblock",
          githubUrl: "https://github.com/NielsCraft12/ggj-walch2/blob/main/Assets/Scripts/DoorOpen.cs#L39-L67",
          language: "csharp",
          buttonI18n: "projectPages.viewOnGitHub",
          buttonText: "View on github",
          buttonTitle: "View on GitHub",
          code: `
void MoveDoor(Vector3 goalPos) {
  float dist = Vector3.Distance(transform.position, goalPos);
  if (dist >= 0.001 f) {
    transform.position = Vector3.MoveTowards(
      transform.position,
      goalPos,
      speed * Time.deltaTime
    );
  } else {
    if (opening) {
      delay += Time.deltaTime;
      if (delay < openTime) {
        opening = false;
        delay = 0.0 f;
      }
    }
  }
}`
        },
        {
          type: "media",
          mediaType: "video",
          src: "../videos/webm/WalchOrigins/walchOriginsDoor.webm",
          alt: "WA-LCH Origins walking",
          loading: "lazy"

        },
        {
          title: "Custom Trailer",
          title_i18n: "projectPages.walchOrigins.customTrailer.customTrailerTitle",
          content: "I also created a custom trailer to showcase the core mechanics, vibe, and loop of the game. (Created after the game jam)",
          content_i18n: "projectPages.walchOrigins.customTrailer.customTrailerPoint1"
        },
        {
          type: "media",
          mediaType: "video",
          src: "https://www.youtube.com/embed/z1rAx_g-JZI",
          alt: "WA-LCH Origins walking",
          loading: "lazy"

        },


      ],
      // Sidebar Content
      sidebar: {
        trailerUrl: "https://www.youtube.com/embed/z1rAx_g-JZI?si=OWBI3CY6Af5n6Iyw",
        screenshots: [
          { src: "../images/webp/ProjectScreenShots/WALCHOrgins/WalchOrginsScreenshot1.webp", alt: "WA-LCH Origins Screenshot 1" },
          { src: "../images/webp/ProjectScreenShots/WALCHOrgins/WalchOrginsScreenshot2.webp", alt: "WA-LCH Origins Screenshot 2" },
          { src: "../images/webp/ProjectScreenShots/WALCHOrgins/WalchOrginsScreenshot3.webp", alt: "WA-LCH Origins Screenshot 3" }
        ],
        socialButtons: [
          {
            url: "https://github.com/NielsCraft12/ggj-walch2/tree/main/Assets/Scripts",
            icon: "fab fa-github",
            title: "View on GitHub",
            target: "_blank",
            rel: "noreferrer"
          }
        ]
      },

      // Embed (itch.io, etc)
      embed: {
        enabled: true,
        url: "https://itch.io/embed-upload/12701195?color=1E1E1E",
        playableOnMobile: false
      }
    };
  </script>

  <!-- Main Container -->
  <div class="container">
    <!-- Main Content -->
    <div class="main-content">
      <h1 class="gradient-title project-title" id="projectTitle"></h1>
      <div id="mainContent"></div>
      <div id="codeBlocks"></div>
      <div id="mediaContent"></div>

      <div id="embedSection"></div>
    </div>

    <!-- Divider -->
    <div class="divider"></div>

    <!-- Sidebar -->
    <div class="sidebar">
      <h2 class="gradient-title" data-i18n="projectPages.trailer">Trailer</h2>
      <div class="video-container" id="trailerContainer"></div>

      <h2 class="gradient-title" data-i18n="projectPages.screenshots">Screenshots</h2>
      <div id="screenshotsContainer"></div>

      <h2 class="gradient-title" data-i18n="projectPages.exploreCode">Explore Code</h2>
      <social-buttons id="exploreCodeButtons"></social-buttons>
    </div>
  </div>

  <!-- Image Modal -->
  <div id="imageModal" class="modal">
    <span class="modal-close">&times;</span>
    <img class="modal-content" id="modalImg" alt="Enlarged screenshot">
  </div>

  <!-- Footer -->

  <site-footer></site-footer>
  <!-- <p>© <span id="copyright-year"></span> <span id="footerName"></span>Niels de Laat</p> -->

</body>

</html>