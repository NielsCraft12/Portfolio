<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WA-LCH | Niels de Laat</title>

  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="180x180" href="../images/Favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../images/Favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../images/Favicon/favicon-16x16.png">
  <link rel="manifest" href="../images/Favicon/site.webmanifest">

  <meta name="description" data-i18n="projects.wa_lch.description" content="WA-LCH game project by Niels de Laat">
  <meta name="keywords" content="WA-LCH, game development, Unity, programming, portfolio">
  <meta name="author" content="Niels de Laat">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

  <link href="../css/prism.css" rel="stylesheet" />

  <script type="module" src="../components/navbar.js"></script>
  <script type="module" src="../components/social-buttons.js"></script>
  <script type="module" src="../components/code-block.js"></script>
  <script type="module" src="../js/translate.js"></script>
  <script type="module" src="../components/projectPageLayout.js"></script>
  <script type="module" src="../components/footer.js"></script>

  <link rel="icon" type="image/png" href="../images/Favicon/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="../images/Favicon/favicon.svg" />
  <link rel="shortcut icon" href="../images/Favicon/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="../images/Favicon/apple-touch-icon.png" />
  <link rel="manifest" href="../images/Favicon/site.webmanifest" />

  <script>
    // Lazy load Prism.js only when code blocks are visible
    const loadPrism = () => {
      if (window.Prism) return; // Already loaded
      const script = document.createElement('script');
      script.src = '../js/prism.js';
      script.onload = () => window.Prism?.highlightAll();
      document.head.appendChild(script);
    };

    // Intersection Observer for lazy loading
    const codeObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          loadPrism();
          codeObserver.disconnect(); // Only load once
        }
      });
    }, { rootMargin: '200px' });

    // Observe code blocks when DOM is ready
    document.addEventListener('DOMContentLoaded', () => {
      const codeBlocks = document.querySelectorAll('pre code');
      if (codeBlocks.length > 0) {
        codeBlocks.forEach(block => codeObserver.observe(block));
      }
    });
  </script>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/ProjectPage.css" id="customStyles">

</head>

<body>
  <!-- Navigation Component -->
  <nav-bar></nav-bar>
  <!-- ============================================
       CONTENT CONFIGURATION - EDIT YOUR CONTENT HERE
       ============================================ -->
  <script id="projectConfig">
    const PROJECT_DATA = {
      // Project Info
      title: "You Only Have One Box",
      title_i18n: "__NO_TRANSLATE__",

      // Main Content Sections - with inline media and code block support
      sections: [
        {
          title: "Description",
          title_i18n: "projectPages.description",
          content: `A challenging 2D platformer where your only tool is a single box. Guide both yourself and your precious box through increasingly tricky obstacles. Lose it, and you'll have to start over! This game won 1st place in the GLU Game Jam, where it was created under the theme "You Only Have One".`,
          content_i18n: "projectPages.yohob.description"
        },
        {
          title: "What I Made",
          title_i18n: "projectPages.whatIMadeTitle",
          content_i18n: "__NO_TRANSLATE__"
        },
        {
          title: "Level Design",
          title_i18n: "projectPages.yohob.levelDesign.levelDesignTitle",
          content: "I created the level tilemap that forms the foundation of each challenge. The structure and pacing were designed to encourage creative parkour.",
          content_i18n: "projectPages.yohob.levelDesign.levelDesignIntro",
        },
        {
          title: "Enemy AI — The Chicken",
          title_i18n: "projectPages.yohob.enemy.enemyTitle",
          content: "I programmed the enemy logic for the chicken enemy, giving it simple but effective patrol and collision behavior. It patrols back and forth, using raycasts to detect obstacles or edges, and turns upon encountering any non-box or non-player object. The enemy can damage the player or be destroyed with the box.",
          content_i18n: "projectPages.yohob.enemy.enemyIntro"
        },
        {
          title_i18n: "__NO_TRANSLATE__",
          content: "Snippet: Chicken movement and collision detection",
          content_i18n: "projectPages.yohob.enemy.enemyCodeSnippet"
        },
        {
          type: "codeblock",
          githubUrl: "https://github.com/NielsCraft12/GluJam_09-2024/blob/main/Assets/Niels/Scripts/BasicEnemy.cs#L40-L45",
          language: "csharp",
          buttonI18n: "projectPages.viewOnGitHub",
          buttonText: "View on github",
          buttonTitle: "View on GitHub",
          code: `
RaycastHit2D hit = Physics2D.Raycast(Pos, direction, .1f);
if (hit && hit.collider.name != "Box" && hit.collider.name != "Player" && !hit.collider.CompareTag("Enemy"))
{
  Rotate();
}`
        }, {
          title_i18n: "__NO_TRANSLATE__",
          content: "Behavior Highlights:",
          content_i18n: "projectPages.yohob.enemy.enemyBehaviorTitle",
        },
        {
          title_i18n: "__NO_TRANSLATE__",
          type: "list",
          items: [
            "Uses raycasting to avoid walls and hazards.",
            "Flips direction.",
            "Damages the player on contact.",
            "Gets destroyed when hit by the box."
          ],
          items_i18n: [
            "projectPages.yohob.enemy.enemyBehaviorPoint1",
            "projectPages.yohob.enemy.enemyBehaviorPoint2",
            "projectPages.yohob.enemy.enemyBehaviorPoint3",
            "projectPages.yohob.enemy.enemyBehaviorPoint4"
          ]
        },
        {
          type: "media",
          mediaType: "video",
          src: "../videos/webm/Yohob/YohobChickenwalk.webm",
          alt: "WA-LCH Game Screenshot",
          loading: "lazy" // Added lazy loading
        },
        {
          type: "media",
          mediaType: "video",
          src: "../videos/webm/Yohob/YohobEnemy.webm",
          alt: "WA-LCH Game Screenshot",
          loading: "lazy" // Added lazy loading
        },
        {
          title: "Finish System",
          title_i18n: "projectPages.yohob.finish.finishTitle",
          content: "I implemented the finish object that ends the level once the player reaches it. The system saves the player's current damage state and triggers an animation before transitioning to the next level. Snippet: Triggering level completion and transitioning scenes",
          content_i18n: "projectPages.yohob.finish.finishIntro"
        },
        {
          type: "codeblock",
          githubUrl: "https://github.com/NielsCraft12/GluJam_09-2024/blob/main/Assets/Niels/Scripts/Finish.cs#L26-L35",
          language: "csharp",
          buttonI18n: "projectPages.viewOnGitHub",
          buttonText: "View on github",
          buttonTitle: "View on GitHub",
          code: `
private void OnTriggerEnter2D(Collider2D collision) {
  if (collision.gameObject.CompareTag("Player")) {
    StartCoroutine(NextLevel());
    hasFinsihed = true;
    endHP = PlayerInfo.Instance.DamagePoints;
    animator.SetTrigger("IsPressed");
  }
}`
        },
        {
          title_i18n: "__NO_TRANSLATE__",
          content: "This coroutine waits briefly for an animation to play, then loads the next scene:",
          content_i18n: "projectPages.yohob.finish.finishCodeSippet2"
        },
        {
          type: "codeblock",
          githubUrl: "https://github.com/NielsCraft12/GluJam_09-2024/blob/main/Assets/Niels/Scripts/Finish.cs#L37-L42",
          language: "csharp",
          buttonI18n: "projectPages.viewOnGitHub",
          buttonText: "View on github",
          buttonTitle: "View on GitHub",
          code: `
IEnumerator NextLevel()
{
  yield return new WaitForSeconds(2f);
  SceneManager.LoadScene(NextLevelName);
  PlayerInfo.Instance.isPaused = true;
}`
        },
        {
          type: "media",
          mediaType: "video",
          src: "../videos/webm/Yohob/YohobEnd.webm",
          alt: "WA-LCH Game Screenshot",
          loading: "lazy" // Added lazy loading
        },
      ],
      // Sidebar Content
      sidebar: {//localhost/Portfolio/projects/merge-packing-backup.html
        trailerUrl: "https://www.youtube.com/embed/mR3u5qeEQoc?si=lvwrLVPt16mvQSvR",
        screenshots: [
          { src: "../images/webp/ProjectScreenShots/YouOnlyHaveOneBox/BoxScreenshot1.webp", alt: "WA-LCH Origins Screenshot 1" },
          { src: "../images/webp/ProjectScreenShots/YouOnlyHaveOneBox/BoxScreenshot2.webp", alt: "WA-LCH Origins Screenshot 1" },
          { src: "../images/webp/ProjectScreenShots/YouOnlyHaveOneBox/BoxScreenshot2.webp", alt: "WA-LCH Origins Screenshot 1" },
        ],
        socialButtons: [
          {
            url: "https://github.com/NielsCraft12/GluJam_09-2024/blob/main/Assets/Niels/Scripts",
            icon: "fab fa-github",
            title: "View on GitHub",
            target: "_blank",
            rel: "noreferrer"
          }
        ]
      },

      // Embed (itch.io, etc)
      embed: {
        enabled: true,
        url: "https://itch.io/embed-upload/11579544?color=1E1E1E",
        playableOnMobile: false
      }
    };
  </script>

  <!-- Main Container -->
  <div class="container">
    <!-- Main Content -->
    <div class="main-content">
      <h1 class="gradient-title project-title" id="projectTitle"></h1>
      <div id="mainContent"></div>
      <div id="codeBlocks"></div>
      <div id="mediaContent"></div>

      <div id="embedSection"></div>
    </div>

    <!-- Divider -->
    <div class="divider"></div>

    <!-- Sidebar -->
    <div class="sidebar">
      <h2 class="gradient-title" data-i18n="projectPages.trailer">Trailer</h2>
      <div class="video-container" id="trailerContainer"></div>

      <h2 class="gradient-title" data-i18n="projectPages.screenshots">Screenshots</h2>
      <div id="screenshotsContainer"></div>

      <h2 class="gradient-title" data-i18n="projectPages.exploreCode">Explore Code</h2>
      <social-buttons id="exploreCodeButtons"></social-buttons>
    </div>
  </div>

  <!-- Image Modal -->
  <div id="imageModal" class="modal">
    <span class="modal-close">&times;</span>
    <img class="modal-content" id="modalImg" alt="Enlarged screenshot">
  </div>

  <!-- Footer -->

  <site-footer></site-footer>
  <!-- <p>© <span id="copyright-year"></span> <span id="footerName"></span>Niels de Laat</p> -->

</body>

</html>