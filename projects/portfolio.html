<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WA-LCH | Niels de Laat</title>

  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="180x180" href="../images/Favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../images/Favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../images/Favicon/favicon-16x16.png">
  <link rel="manifest" href="../images/Favicon/site.webmanifest">

  <meta name="description" data-i18n="projects.wa_lch.description" content="WA-LCH game project by Niels de Laat">
  <meta name="keywords" content="WA-LCH, game development, Unity, programming, portfolio">
  <meta name="author" content="Niels de Laat">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

  <link href="../css/prism.css" rel="stylesheet" />

  <script type="module" src="../components/navbar.js"></script>
  <script type="module" src="../components/social-buttons.js"></script>
  <script type="module" src="../components/code-block.js"></script>
  <script type="module" src="../js/translate.js"></script>
  <script type="module" src="../components/projectPageLayout.js"></script>
  <script type="module" src="../components/footer.js"></script>

  <link rel="icon" type="image/png" href="../images/Favicon/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="../images/Favicon/favicon.svg" />
  <link rel="shortcut icon" href="../images/Favicon/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="../images/Favicon/apple-touch-icon.png" />
  <link rel="manifest" href="../images/Favicon/site.webmanifest" />

  <script>
    // Lazy load Prism.js only when code blocks are visible
    const loadPrism = () => {
      if (window.Prism) return; // Already loaded
      const script = document.createElement('script');
      script.src = '../js/prism.js';
      script.onload = () => window.Prism?.highlightAll();
      document.head.appendChild(script);
    };

    // Intersection Observer for lazy loading
    const codeObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          loadPrism();
          codeObserver.disconnect(); // Only load once
        }
      });
    }, { rootMargin: '200px' });

    // Observe code blocks when DOM is ready
    document.addEventListener('DOMContentLoaded', () => {
      const codeBlocks = document.querySelectorAll('pre code');
      if (codeBlocks.length > 0) {
        codeBlocks.forEach(block => codeObserver.observe(block));
      }
    });
  </script>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/ProjectPage.css" id="customStyles">

</head>

<body>
  <!-- Navigation Component -->
  <nav-bar></nav-bar>
  <!-- ============================================
       CONTENT CONFIGURATION - EDIT YOUR CONTENT HERE
       ============================================ -->
  <script id="projectConfig">
    const PROJECT_DATA = {
      // Project Info
      title: "Portfolio",
      title_i18n: "__NO_TRANSLATE__",

      // Main Content Sections
      sections: [
        {
          title: "Description",
          title_i18n: "projectPages.description",
          content: `A modern, multilingual portfolio website built from scratch using vanilla HTML, CSS, and JavaScript. Features custom web components, internationalization support, dynamic project pages. Fully responsive with optimized performance and no framework dependencies.`,
          content_i18n: "projectPages.portfolio.description"
        },
        {
          type: "media",
          mediaType: "video",
          src: "../videos/webm/Portfolio/indexScroll.webm",
          alt: "Scrolling through portfolio homepage",
          maxWidth: "800px"
        },

        {
          title: "What I Made",
          title_i18n: "projectPages.whatIMadeTitle",
          content_i18n: "__NO_TRANSLATE__"
        },

        // Language Switching
        {
          title: "Multi-Language Support",
          title_i18n: "projectPages.portfolio.translation.title",
          content: "The entire website can switch between English, Dutch. All text updates instantly without reloading the page. Your language preference is saved automatically.",
          content_i18n: "projectPages.portfolio.translation.content"
        },
        {
          type: "media",
          mediaType: "video",
          src: "../videos/webm/Portfolio/langChange.webm",
          alt: "Switching between English, Dutch",
          maxWidth: "800px"
        },
        {
          type: "codeblock",
          githubUrl: "https://github.com/NielsCraft12/Portfolio/blob/main/js/translate.js#L23-L38",
          language: "javascript",
          buttonI18n: "projectPages.viewOnGitHub",
          buttonText: "View on GitHub",
          buttonTitle: "View on GitHub",
          code: `// Dynamic translation loading with caching
async function loadTranslation(lang) {
  if (translationCache.has(lang)) {
    return translationCache.get(lang);
  }

  const module = await import(\`./translations/\${lang}.js\`);
  const translations = module[lang];
  
  translationCache.set(lang, translations);
  return translations;
}`
        },
        {
          type: "codeblock",
          githubUrl: "https://github.com/NielsCraft12/Portfolio/blob/main/js/translate.js#L121-L153",
          language: "javascript",
          buttonI18n: "projectPages.viewOnGitHub",
          buttonText: "View on GitHub",
          buttonTitle: "View on GitHub",
          code: `// Update all translatable elements
async function updateContent(lang) {
  const translations = await loadTranslation(lang);

  document.querySelectorAll("[data-i18n]").forEach((element) => {
    const key = element.getAttribute("data-i18n");
    const value = getNestedTranslation(translations, key);
    
    if (value) {
      element.innerHTML = value;
    }
  });

  localStorage.setItem("preferredLanguage", lang);
}`
        },

        // Project Filtering
        {
          title: "Project Filtering System",
          title_i18n: "projectPages.portfolio.filtering.title",
          content: "Browse my projects by category with smooth tab switching. Filter between Games and Web Projects projects with one click.",
          content_i18n: "projectPages.portfolio.filtering.content"
        },
        {
          type: "media",
          mediaType: "video",
          src: "../videos/webm/Portfolio/portfolioTabFiltering.webm",
          alt: "Filtering projects by category",
          maxWidth: "800px"
        },
        {
          type: "codeblock",
          githubUrl: "https://github.com/NielsCraft12/Portfolio/blob/main/js/project-ordering.js#L252-L283",
          language: "javascript",
          buttonI18n: "projectPages.viewOnGitHub",
          buttonText: "View on GitHub",
          buttonTitle: "View on GitHub",
          code: `
          // ðŸ”„ Switch to the tab of the first project in the order
switchToFirstProjectCategory(order) {
  const first = order?.[0];
  const category = this.projectMappings[first]?.category;
  if (!category) return;

  const buttons = document.querySelectorAll(".tab-button");
  buttons.forEach(b => b.classList.remove("active"));

  const target = [...buttons].find(b => b.dataset.tab === category);
  if (target) {
    target.classList.add("active");
    setTimeout(() => window.filterProjects?.(category), 50);
  }`
        },

        // Dynamic Project Pages
        {
          title: "Dynamic Project Pages",
          title_i18n: "projectPages.portfolio.projectPages.title",
          content: "Each project page is built from a simple configuration object. Add sections, code blocks, images, and videos without touching HTML. Everything renders automatically with full translation support.",
          content_i18n: "projectPages.portfolio.projectPages.content"
        },
        {
          type: "media",
          mediaType: "video",
          src: "../videos/webm/Portfolio/projectPageShow.webm",
          alt: "Scrolling through a project page",
          maxWidth: "800px"
        },
        {
          type: "codeblock",
          githubUrl: "https://github.com/NielsCraft12/Portfolio/blob/main/Projects/WA-LCH.html#L79-L309",
          language: "javascript",
          buttonI18n: "projectPages.viewOnGitHub",
          buttonText: "View on GitHub",
          buttonTitle: "View on GitHub",
          code: `
          // âš ï¸ Code trimmed for aesthetics. View full code on GitHub âš ï¸
const PROJECT_DATA = {
  title: "WA-LCH Origins",
  sections: [
    {
      title: "Player Movement",
      content: "Physics-based movement...",
      content_i18n: "projectPages.walchOrigins.playerMovement"
    },
    {
      type: "codeblock",
      githubUrl: "https://github.com/...",
      language: "csharp",
      code: \`rb.linearVelocity = new Vector3(...)\`
    },
    {
      type: "media",
      mediaType: "video",
      src: "../videos/webm/movement.webm"
    }
  ]
};`
        },

        // Screenshot Gallery with Modal
        {
          title: "Interactive Screenshot Gallery",
          title_i18n: "projectPages.portfolio.imageModal.title",
          content: "Click any screenshot to view it full-size. The lightbox effect was built from scratch without any external libraries.",
          content_i18n: "projectPages.portfolio.imageModal.content"
        },
        {
          type: "media",
          mediaType: "video",
          src: "../videos/webm/Portfolio/enlargeImage.webm",
          alt: "Clicking screenshot to enlarge and close",
          maxWidth: "800px"
        },
        {
          type: "codeblock",
          githubUrl: "https://github.com/NielsCraft12/Portfolio/blob/main/js/imagezoom.js#L45-L81",
          language: "javascript",
          buttonI18n: "projectPages.viewOnGitHub",
          buttonText: "View on GitHub",
          buttonTitle: "View on GitHub",
          code: `
// Close modal when clicking outside the image
modal.addEventListener("mousedown", function (event) {
  if (!modalImg.complete || modalImg.naturalWidth === 0) return;

  const rect = modalImg.getBoundingClientRect();
  const { naturalWidth, naturalHeight } = modalImg;
  const elemAspect = rect.width / rect.height;
  const imgAspect = naturalWidth / naturalHeight;

  let left, right, top, bottom;
  if (imgAspect > elemAspect) {
    const displayHeight = rect.width / imgAspect;
    top = rect.top + (rect.height - displayHeight) / 2;
    bottom = top + displayHeight;
    left = rect.left;
    right = rect.right;
  } else {
    const displayWidth = rect.height * imgAspect;
    left = rect.left + (rect.width - displayWidth) / 2;
    right = left + displayWidth;
    top = rect.top;
    bottom = rect.bottom;
  }

  const { clientX: x, clientY: y } = event;
  if (x < left || x > right || y < top || y > bottom) closeModal();
});`
        },

        // Smart Game Embedding
        {
          title: "Smart Game Embedding",
          title_i18n: "projectPages.portfolio.embedSystem.title",
          content: "Play games directly on project pages! The system automatically detects your device and adjusts the layout. Mobile users see a helpful message for desktop-only games, while mobile-friendly games display in vertical format.",
          content_i18n: "projectPages.portfolio.embedSystem.content"
        },
        {
          type: "media",
          mediaType: "image",
          // src: "../images/portfolio/embed-desktop-mobile.png",
          src: [
            "../images/webp/ProjectImages/Portfolio/embedDesktop.webp",
            "../images/webp/ProjectImages/Portfolio/embedMobile.png",
          ],
          flex: [1, 1],
          maxWidth: ["45%", "45%"],
          alt: "Game embed on desktop (horizontal) vs mobile (vertical or message)",
        },
        {
          type: "codeblock",
          githubUrl: "https://github.com/NielsCraft12/Portfolio/blob/main/components/projectPageLayout.js#L372-L549",
          language: "javascript",
          buttonI18n: "projectPages.viewOnGitHub",
          buttonText: "View on GitHub",
          buttonTitle: "View on GitHub",
          code: `
          // âš ï¸ Code trimmed for aesthetics. View full code on GitHub âš ï¸
(function () {
  const embedSection = document.getElementById("embedSection");
  if (!embedSection) return;

  const cfg = window.PROJECT_DATA || PROJECT_DATA;
  const embedEnabled = !!(cfg?.embed?.enabled);
  const playableOnMobile = !!(cfg?.embed?.playableOnMobile);
  const touch = navigator.maxTouchPoints > 0 || "ontouchstart" in window;

  const messageEl = document.querySelector(".mobile-message") || (() => {
    const el = document.createElement("div");
    el.className = "mobile-message";
    document.body.appendChild(el);
    return el;
  })();

  if (!embedEnabled) embedSection.style.display = messageEl.style.display = "none";
  else if (touch && !playableOnMobile) {
    embedSection.style.display = "none";
    messageEl.style.display = "flex";
    messageEl.innerHTML = \`&lt;i...&gt; &lt;/i&gt; &lt;p>...&lt;/p&gt;\`;
  } else {
    embedSection.style.display = "block";
    messageEl.style.display = "none";
    .
    embedSection.innerHTML = \`&lt;h3&gt;...&lt;/h3&gt; &lt;div...&gt; &lt;iframe...&gt; &lt;/iframe&gt; &lt;/div&gt;\`;
  }
})();`
        },

        // Custom 404 Page
        {
          title: "Fun 404 Error Page",
          title_i18n: "projectPages.portfolio.error404.title",
          content: "Getting lost on my website is actually fun! The 404 page randomly shows different characters from my games with funny messages. Refresh to see a new character!",
          content_i18n: "projectPages.portfolio.error404.content"
        },
        {
          type: "media",
          mediaType: "image",
          src: [
            "../images/webp/ProjectImages/Portfolio/404Image1.webp",
            "../images/webp/ProjectImages/Portfolio/404Image2.webp",
            "../images/webp/ProjectImages/Portfolio/404Image3.webp",
          ],
          flex: [1, 1, 1],
          maxWidth: ["30%", "30%", "30%"],
          alt: "Grid showing 8 different 404 page variations with game characters",
        },
        {
          type: "codeblock",
          githubUrl: "https://github.com/NielsCraft12/Portfolio/blob/main/404-page-not-found.html#L30-L44",
          language: "javascript",
          buttonI18n: "projectPages.viewOnGitHub",
          buttonText: "View on GitHub",
          buttonTitle: "View on GitHub",
          code: `
              // Generate random number immediately
    const randomNum = Math.floor(Math.random() * 8); // 8 images total
     // âš ï¸ arrays trimmed for aesthetics. View full code on GitHub âš ï¸
    // Set up image paths
    const myPixWebp = 
    ["../images/webp/404Images/player-dead.webp",...];
    const myPixPng = 
    ["../images/png/404Images/player-dead.png",...];
    const translate = 
    ["error404.playerDead", "error404.player",...];

    // Set image sources immediately
    document.getElementById("webpSource").srcset = myPixWebp[randomNum];
    document.getElementById("myPicture").src = myPixPng[randomNum];

    document.addEventListener("DOMContentLoaded", function () {
      const randomText = document.getElementById("randomText");
      randomText.setAttribute("data-i18n", translate[randomNum]);`
        },

        // Responsive Design
        {
          title: "Fully Responsive Design",
          title_i18n: "projectPages.portfolio.responsive.title",
          content: "The website adapts beautifully to any screen size. From mobile phones to ultra-wide monitors. Navigation, images, and layouts automatically adjust for the best viewing experience.",
          content_i18n: "projectPages.portfolio.responsive.content"
        },
        {
          type: "media",
          mediaType: "video",
          src: "../videos/webm/Portfolio/responsiveShowcase.webm",
          alt: "Website displayed on phone, tablet, and desktop",
          maxWidth: "800px"
        },

        // Performance
        {
          title: "Optimized Performance",
          title_i18n: "projectPages.portfolio.performance.title",
          content: "Fast loading times through smart optimizations: images load only when you scroll to them, code syntax highlighting loads on-demand, and modern WebP images are used with automatic fallbacks for older browsers.",
          content_i18n: "projectPages.portfolio.performance.content"
        },
        // {
        //   type: "media",
        //   mediaType: "image",
        //   src: "../images/portfolio/lighthouse-score.png",
        //   alt: "Google Lighthouse performance score",
        //   maxWidth: "600px"
        // },
        {
          type: "codeblock",
          githubUrl: "https://github.com/NielsCraft12/Portfolio/blob/main/projects/portfolio.html#L49-L57",
          language: "javascript",
          buttonI18n: "projectPages.viewOnGitHub",
          buttonText: "View on GitHub",
          buttonTitle: "View on GitHub",
          code: `// Lazy load Prism.js only when code blocks are visible
const codeObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      const script = document.createElement('script');
      script.src = '../js/prism.js';
      script.onload = () => window.Prism?.highlightAll();
      document.head.appendChild(script);
      codeObserver.disconnect();
    }
  });
}, { rootMargin: '200px' });`
        },
        // Code Syntax Highlighting
        {
          title: "Beautiful Code Display",
          title_i18n: "projectPages.portfolio.codeBlocks.title",
          content: "All code examples feature syntax highlighting with direct links to view the full code on GitHub. The highlighting library only loads when you scroll to a code block to keep the page fast.",
          content_i18n: "projectPages.portfolio.codeBlocks.content"
        },
        {
          type: "codeblock",
          githubUrl: "https://github.com/NielsCraft12/Portfolio/blob/main/projects/portfolio.html",
          language: "csharp",
          buttonI18n: "projectPages.viewOnGitHub",
          buttonText: "View on GitHub",
          buttonTitle: "View on GitHub",
          code: `

          // Example C# code with syntax highlighting
          static void Main()
        {
            Console.WriteLine("Starting mission-critical system...");
            PretendToWork();
            Console.WriteLine("All tasks completed successfully (we think).");
        }

        static void PretendToWork()
        {
            Console.WriteLine("Optimizing synergy...");
            FakeProgress();
            Console.WriteLine("Rebooting confidence module...");
            FakeProgress();
            Console.WriteLine("Deploying good vibes to production...");
            FakeProgress();
        }

        static void FakeProgress()
        {
            for (int i = 0; i < 3; i++)
            {
                Console.Write(".");
                System.Threading.Thread.Sleep(500); // simulates productivity
            }
            Console.WriteLine();
        }
          `
        },

        // Custom Components
        {
          title: "Modular Component System",
          title_i18n: "projectPages.portfolio.webComponents.title",
          content: "Built reusable web components for navigation, project cards, social buttons, and more. This keeps the code organized and makes it easy to add new features.",
          content_i18n: "projectPages.portfolio.webComponents.content"
        },
        {
          type: "media",
          mediaType: "video",
          src: "../videos/webm/Portfolio/componetShowcase.webm",
          alt: "Examples of custom components: navbar, project cards, tech chips",
          maxWidth: "800px"
        },

        // Technology Stack Summary
        {
          title: "Built With",
          title_i18n: "projectPages.portfolio.techStack.title",
          content: "Modern web technologies without heavy frameworks:",
          content_i18n: "projectPages.portfolio.techStack.content",
        },
        {
          title_i18n: "__NO_TRANSLATE__",
          type: "list",
          items: [
            { text: "Vanilla JavaScript (ES6+)", i18n: "projectPages.portfolio.techStack.item1" },
            { text: "CSS Grid & Flexbox", i18n: "projectPages.portfolio.techStack.item2" },
            { text: "Custom Web Components", i18n: "projectPages.portfolio.techStack.item3" },
            { text: "Multi-language support", i18n: "projectPages.portfolio.techStack.item4" },
            { text: "Mobile-first responsive design", i18n: "projectPages.portfolio.techStack.item5" },
            { text: "Performance optimized", i18n: "projectPages.portfolio.techStack.item6" },
            { text: "Accessible with ARIA labels", i18n: "projectPages.portfolio.techStack.item7" }
          ]
        },

        // Final showcase
        {
          title: "Explore the Website",
          title_i18n: "projectPages.portfolio.explore.title",
          content: "Visit the live site to see all these features in action! Try switching languages and filtering projects.",
          content_i18n: "projectPages.portfolio.explore.content"
        }
      ],

      // Sidebar Content
      sidebar: {
        trailerUrl: "https://www.youtube.com/embed/YOUR_PORTFOLIO_DEMO_VIDEO",
        screenshots: [
          { src: "../images/webp/Portfolio.webp", alt: "Portfolio Homepage" },
          { src: "../images/webp/ProjectScreenShots/Portfolio/portfolioScreenshot1.webp", alt: "custom 404 Page" },
          { src: "../images/webp/ProjectScreenShots/Portfolio/portfolioScreenshot2.webp", alt: "Project Page" },
        ],
        socialButtons: [
          {
            url: "https://github.com/NielsCraft12/Portfolio",
            icon: "fab fa-github",
            title: "View on GitHub",
            target: "_blank",
            rel: "noreferrer"
          }
        ]
      },

      // Embed
      embed: {
        enabled: false,
        url: "",
        playableOnMobile: false
      }
    };
  </script>

  <!-- Main Container -->
  <div class="container">
    <!-- Main Content -->
    <div class="main-content">
      <h1 class="gradient-title project-title" id="projectTitle"></h1>
      <div id="mainContent"></div>
      <div id="codeBlocks"></div>
      <div id="mediaContent"></div>

      <div id="embedSection"></div>
    </div>

    <!-- Divider -->
    <div class="divider"></div>

    <!-- Sidebar -->
    <div class="sidebar">
      <h2 class="gradient-title" style="display: none;" data-i18n="projectPages.trailer">Trailer</h2>
      <div class="video-container" style="display: none;" id="trailerContainer"></div>

      <h2 class="gradient-title" data-i18n="projectPages.screenshots">Screenshots</h2>
      <div id="screenshotsContainer"></div>

      <h2 class="gradient-title" data-i18n="projectPages.exploreCode">Explore Code</h2>
      <social-buttons id="exploreCodeButtons"></social-buttons>
    </div>
  </div>

  <!-- Image Modal -->
  <div id="imageModal" class="modal">
    <span class="modal-close">&times;</span>
    <img class="modal-content" id="modalImg" alt="Enlarged screenshot">
  </div>

  <!-- Footer -->

  <site-footer></site-footer>
  <!-- <p>Â© <span id="copyright-year"></span> <span id="footerName"></span>Niels de Laat</p> -->

</body>

</html>